---
/**
 * Giscus Comments Component
 * 
 * To configure:
 * 1. Go to https://giscus.app
 * 2. Select your repository
 * 3. Copy the configuration
 * 4. Update the props below
 * 
 * Or set environment variables:
 * - GISCUS_REPO
 * - GISCUS_REPO_ID
 * - GISCUS_CATEGORY
 * - GISCUS_CATEGORY_ID
 */

interface Props {
  repo?: string;
  repoId?: string;
  category?: string;
  categoryId?: string;
  theme?: 'light' | 'dark' | 'preferred_color_scheme';
}

const {
  repo = import.meta.env.GISCUS_REPO || "YOUR_GITHUB_USER/YOUR_COMMENTS_REPO",
  repoId = import.meta.env.GISCUS_REPO_ID || "REPO_ID",
  category = import.meta.env.GISCUS_CATEGORY || "Announcements",
  categoryId = import.meta.env.GISCUS_CATEGORY_ID || "CATEGORY_ID",
  theme = "light"
} = Astro.props;
---
<section id="comments" class="mt-8">
  <script src="https://giscus.app/client.js"
          data-repo={repo}
          data-repo-id={repoId}
          data-category={category}
          data-category-id={categoryId}
          data-mapping="pathname"
          data-strict="0"
          data-reactions-enabled="1"
          data-emit-metadata="0"
          data-input-position="bottom"
          data-theme={theme}
          data-lang="en"
          crossorigin="anonymous"
          async>
  </script>
  <noscript>Please enable JavaScript to view the comments powered by giscus.</noscript>
</section>
